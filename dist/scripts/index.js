(()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n=document.querySelector(".speed-text"),t=document.querySelector(".speed-text div"),o=[...document.querySelectorAll(".box")],i=()=>!navigator.onLine,r=!!e;e.addEventListener("change",a),window.addEventListener("offline",a),window.addEventListener("online",a);const c=()=>n.childNodes[0].nodeValue,s=e=>n.childNodes[0].nodeValue=e;function a(){if(r){if(i()){if("Offline"===c())return;return s("Offline"),t.innerHTML="0",void o.map(e=>e.style.bottom="-410vw")}!function(e,n){const i=function(e){const n=e.match(/[0-9.]+/);return n?n[0]:0}(c());if(Math.abs(i-e)<.3)return;o.map(n=>n.style.bottom=`${3*e-410}vw`),s(`${e}mbps`),t.innerHTML=n}(e.downlink,e.effectiveType)}else s("Not Supported")}setInterval(a,1e3),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/speedtest/sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})})})();
//# sourceMappingURL=index.js.map
